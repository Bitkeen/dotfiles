#!/bin/sh
function docker_alias {
    key="$1"
    case $key in
        ex)
            cmd="exec -uroot -it"
            shift;;
        bd)
            cmd="build"
            shift;;
        im)
            cmd="images"
            shift;;
        lg)
            cmd="logs"
            shift;;
        lgf)
            cmd="logs -f"
            shift;;
        ps)
            cmd="ps --format table{{.ID}}\t{{.Image}}\t{{.Names}}\t{{.RunningFor}}\t{{.Ports}}"
            shift;;
        *)
            cmd=$1
            shift;;
    esac
    docker $cmd $@
}

function docker_compose_alias {
    key="$1"
    case $key in
        u)
            cmd='up'
            shift;;
        d)
            cmd='down'
            shift;;
        p)
            cmd='pull'
            shift;;
        l)
            cmd='logs -f'
            shift;;
        r)
            cmd="run"
            shift;;
        rnd)
            cmd="run --no-deps --name $2"
            shift;;
        *)
            cmd=$1
            shift;;
    esac
    docker-compose $cmd $@
}

alias docker='docker_alias'
alias docker-compose='docker_compose_alias'

alias d='docker'
alias dcmp='docker-compose'
